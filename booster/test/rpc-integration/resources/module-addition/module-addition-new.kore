module NEW
  import TEST []

// hand-written rules, purposely not providing some of the usual attributes and using the simplest possible form
  axiom{} \rewrites{SortGeneratedTopCell{}} (
    \and{SortGeneratedTopCell{}} (
      \top{SortGeneratedTopCell{}}(),
      Lbl'-LT-'generatedTop'-GT-'{}(
        Lbl'-LT-'k'-GT-'{}(
          kseq{}(inj{SortState{}, SortKItem{}}(\dv{SortState{}}("d")),Var'Unds'DotVar1:SortK{})
        ),
        Var'Unds'DotVar0:SortGeneratedCounterCell{}
      )
    ),
    Lbl'-LT-'generatedTop'-GT-'{}(
      Lbl'-LT-'k'-GT-'{}(
        kseq{}(inj{SortState{}, SortKItem{}}(\dv{SortState{}}("e")),Var'Unds'DotVar1:SortK{})
      ),
      Var'Unds'DotVar0:SortGeneratedCounterCell{}
    )
  )
  [label{}("NEW.DE")] // optional label

  axiom{} \rewrites{SortGeneratedTopCell{}} (
    \and{SortGeneratedTopCell{}} (
      \top{SortGeneratedTopCell{}}(),
      Lbl'-LT-'generatedTop'-GT-'{}(
        Lbl'-LT-'k'-GT-'{}(
          kseq{}(inj{SortState{}, SortKItem{}}(\dv{SortState{}}("e")),Var'Unds'DotVar1:SortK{})
        ),
        Var'Unds'DotVar0:SortGeneratedCounterCell{}
      )
    ),
    Lbl'-LT-'generatedTop'-GT-'{}(
      Lbl'-LT-'k'-GT-'{}(
        kseq{}(inj{SortState{}, SortKItem{}}(\dv{SortState{}}("f")),Var'Unds'DotVar1:SortK{})
      ),
      Var'Unds'DotVar0:SortGeneratedCounterCell{}
    )
  )
  [] // no label, no unique ID (rewrite tracing is unable to refer to this rule)

endmodule []
